---
created: 2025-01-20T20:39:44.4444+00:00
modified: 2025-01-21T08:46:10.1010+00:00
---
[[Теория автоматов и формальных языков/Заметки/Язык/Формальный язык|Язык]], образованный множеством [[Теория автоматов и формальных языков/Заметки/Конечные распознаватели/Цепочки допускаемые состоянием S|цепочек, допускаемых состоянием]] $S_i$, обозначим через $L(S_i)$. На множестве состояний можно определить отношение R: 

$R=\{(S_i, S_j) | L(S_i)=L(S_j)\}$. 

Два состояния $S_i$ и $S_j$ *эквивалентны*, если из них можно составить пару, принадлежащую отношению R (если равны допускаемые ими языки $L(S_i)=L(S_j)$). 

Эквивалентными могут быть состояния одного [[Теория автоматов и формальных языков/Заметки/Конечные распознаватели/Конечный распознаватель|распознавателя]] или состояния различных распознавателей. 

Если два состояния *неэквивалентны*, то любая цепочка, под действием которой одно из них переходит в допускающее состояние, а другое — в отвергающее, называется *цепочкой, различающей эти два состояния*. 

Два состояния эквивалентны тогда и только тогда, когда не существует различающей их цепочки. 

Алгоритм проверки эквивалентности двух состояний основан на следующем факте: состояния $S_i$ и $S_j$ эквивалентны тогда и только тогда, когда выполняются следующие два условия: 
1. *условие подобия* — состояния $S_i$ и $S_j$ должны быть либо оба допускающими, либо оба отвергающими 
2. *условие преемственности* — для всех входных символов состояния $S_i$ и $S_j$ должны переходить в эквивалентные состояния. 

В процессе выполнения алгоритма строится *дерево проверки эквивалентности состояний*, в вершинах которого записываются пары состояний (в корне — пара проверяемых на эквивалентность состояний), а дуги отмечаются входными символами. Вершины строящегося дерева определяются как внутренние, граничные, дублирующие, конечные или различающие. 

- *Граничная* — это вершина, являющаяся листом и ещё не обработанная алгоритмом. После обработки эта вершина станет либо внутренней, имеющей сыновей, либо дублирующей, либо конечной, либо различающей. 
- *Дублирующая* — это вершина, являющаяся листом и содержащая такую пару состояний, которая есть хотя бы в одной из внутренних вершин. 
- *Конечная* — это вершина, которая содержит два одинаковых состояния. 
- *Различающая* — это вершина, которая содержит одно допускающее и одно отвергающее состояние. 

# Алгоритм проверки эквивалентности двух состояний
1. Построить вершину — корень дерева, записать в неё пару проверяемых состояний. Если в корне одно состояние допускающее, а другое отвергающее, то проверяемые состояния неэквивалентны (нарушено условие подобия), конец алгоритма. В противном случае корень считать граничной вершиной и выполнить п.2. 
2. Пока есть граничные вершины, обрабатывать их в порядке построения следующим образом. 
   
   Для каждого входного символа создать вершину, в которую провести дугу, отмеченную этим символом, из обрабатываемой вершины; в созданную вершину записать состояния переходов из состояний, записанных в обрабатываемой вершине, под действием входного символа, отмечающего входящую дугу. 
   
   Если в созданной вершине одно состояние допускающее, а другое отвергающее, то сделать эту вершину различающей; проверяемые состояния неэквивалентны, конец алгоритма. 
   
   Если в созданной вершине содержится такая пара состояний, которая есть хотя бы в одной из внутренних вершин, то сделать эту вершину дублирующей. 
   
   Если в созданной вершине содержится пара одинаковых состояний, то сделать эту вершину конечной. 
   
   В остальных случаях созданную вершину считать граничной. 
   
   Обработанные граничные вершины считать внутренними. 
3. Если в множестве вершин дерева нет различающей, то проверяемые состояния являются эквивалентными, конец алгоритма. 
   
   Если в результате выполнения алгоритма построено дерево, в котором нет различающей вершины, то все пары состояний, записанные в вершинах дерева, являются парами эквивалентных состояний. 
   
   Если же в результате выполнения алгоритма построено дерево, в котором есть различающая вершина, то неэквивалентными будут все пары состояний, записанные в вершинах на пути от корня к различающей вершине (для них не выполняется условие преемственности). Цепочка, соответствующая пути от корня к различающей вершине, представляет собой цепочку, различающую проверяемые на эквивалентность состояния, причём это будет кратчайшая из различающих состояния цепочек, т.к. дерево проверки строится в ширину. 
   
   Если в множестве состояний распознавателя есть единственное состояние ошибки $S_{ош} \in S$, которое не допускает ни одной цепочки ($L(S_{ош})=\emptyset$), а любое другое состояние $S_i \in S$, допускающее или отвергающее, допускает хотя бы одну цепочку ($L(S_i) \neq \emptyset$), то состояния $S_{ош}$ и $S_i$ неэквивалентны, и в этом случае вершину, содержащую пару состояний $S_{ош}$ и $S_i$, будем считать различающей. Если $\alpha$ — цепочка, соответствующая пути от корня к различающей вершине, содержащей пару состояний $S_{ош}$ и $S_i$, то цепочка $\alpha \beta$ не допускается одним из проверяемых на эквивалентность состояний не при каких $\beta$ и допускается другим состоянием при некоторых $\beta$. При построении дерева проверки эквивалентности состояний вершины, содержащие два состояния ошибки, и дуги, ведущие в эти вершины, не будем включать в дерево. 
   
   Конечные вершины, содержащие два состояния ошибки, в дерево включать не будем

> [!info] Пример
>
>![[Теория автоматов и формальных языков/Заметки/Изображения/Pasted image 20250121000202.png]]
